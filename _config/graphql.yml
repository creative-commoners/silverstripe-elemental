---
Name: elementalgraphqlconfig
---
SilverStripe\GraphQL\Manager:
  schemas:
    admin:
      scaffolding_providers:
        - DNADesign\Elemental\GraphQL\ElementScaffoldingProvider
      mutations:
        sortBlock: DNADesign\Elemental\GraphQL\SortBlockMutationCreator
      scaffolding:
        types:
          # Expose common static fields for the ElementEditor component to use for preview summaries
          DNADesign\Elemental\Models\BaseElement:
            # Fields isn't really needed but scaffolding has issues with no fields being scaffolded...
            fields: [ID]
            operations:
              copyToStage: true
              readOne: true
              delete: true
              publish: true
              unpublish: true
          # Expose access to Elements via Page -> ElementalArea -> Elements (see resolver)
          DNADesign\Elemental\Models\ElementalArea:
            fields: [ID]
            nestedQueries:
              Elements: DNADesign\Elemental\GraphQL\ElementListScaffolder
            operations:
              readOne: true
          # Basic member information is required for history views
          SilverStripe\Security\Member:
            fields: [ID, FirstName, Surname]
            operations:
              readOne: true
      # Define specific names for the models we expose
      typeNames:
        DNADesign\Elemental\Models\ElementalArea: ElementalArea
